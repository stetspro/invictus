<div class="mb-1rem">
  <%= devise_error_messages! %>
</div>

<div class="row">
  <div class="col-md-6 offset-md-3 mb-3">
    <div class="card black-card">
      <h5 class="card-header"><%= current_user.name %> <%= current_user.family_name %></h5>
      <div class="card-body">
        <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
        
          <div class="field mb-3">
            <%= f.email_field :email, autofocus: true, autocomplete: "email", placeholder: I18n.t('devise.email'), class: 'form-control' %>
          </div>
        
          <div class="field mb-3">
            <%= f.password_field :password, autocomplete: "new-password", placeholder: I18n.t('devise.new_password'), class: 'form-control' %>
          </div>
        
          <div class="field mb-3">
            <%= f.password_field :password_confirmation, autocomplete: "new-password", placeholder: I18n.t('devise.new_password_confirmation'), class: 'form-control' %>
          </div>
        
          <div class="field mb-3">
            <%= f.password_field :current_password, autocomplete: "current-password", placeholder: I18n.t('devise.current_password'), class: 'form-control' %>
          </div>
        
          <div class="actions float-right">
            <%= button_tag( class: 'btn btn-primary btn-sm btn-load') do %>
              <span><%= I18n.t('devise.save') %></span>
              &nbsp;<i class="fas fa-arrow-right"></i>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
  
  <div class="col-md-6 offset-md-3">
    <div class="card black-card border-danger">
      <h5 class="card-header"><%= I18n.t('devise.retire') %></h5>
      <div class="card-body">
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#retireModal">
          <%= I18n.t('devise.delete_account') %>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Retire Modal -->
<div class="modal fade" id="retireModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"><%= I18n.t('devise.retire') %></h5>
        <button type="button" class="close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <%= I18n.t('devise.retire_account_message') %>
      </div>
      <div class="modal-footer">
        <%= button_to I18n.t('devise.i_am_sure'), registration_path(resource_name), method: :delete, class: 'btn btn-danger' %>
        <button type="button" class="btn btn-secondary" data-dismiss="modal"><%= I18n.t('devise.cancel') %></button>
      </div>
    </div>
  </div>
</div>